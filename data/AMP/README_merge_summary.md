# 数据集合并完成总结

## 概述
成功合并了CAMP和grampa两个抗菌肽数据集，统一了单位并进行了去重处理。

## 合并结果
- **原始数据量**：
  - CAMP数据集：6,561行
  - grampa数据集：51,345行
  - 合并后：57,906行

- **去重后**：49,014行
- **最终保留**：44,797行（移除空值后）

## 数据列结构
最终数据集包含以下列：
1. **bacterium** - 抵抗微生物名称
2. **sequence** - 抗菌肽氨基酸序列
3. **unit** - 统一单位：uM
4. **value** - 统一单位后的数值（log10(μM)）
5. **censor** - 不等号信息（>, <, ≤, ≥等）
6. **database** - 数据来源数据库

## 单位转换逻辑
- **统一目标单位**：uM（微摩尔）
- **转换公式**：μM = (mg/L) / (g/mol) × 1e6
- **分子量计算**：序列长度 × 110 Da（平均氨基酸分子量）
- **最终输出**：log10(μM) + censor信息

## 支持的输入单位
- microg/ml, μg/ml, ug/ml, µg/ml
- mg/ml, g/ml
- ng/ml, pg/ml
- uM, nM, pM, mM
- 兼容希腊字母μ和micro符号µ

## 特殊值处理
- **不等号**：>, <, ≤, ≥（保留在censor列）
- **范围值**：如"16-32"转换为中点值
- **逗号分隔**：自动移除数字中的逗号

## 去重策略
基于以下组合进行去重：
- bacterium（细菌名称）
- sequence（序列）
- database（数据库来源）

## 数据质量改进
- 统一了细菌名称格式
- 标准化了单位表示
- 保留了原始数据的不等号信息
- 移除了空值和无效数据

## 输出文件
- **位置**：`data/merged_amp_dataset.csv`
- **大小**：约44,797行 × 6列
- **编码**：UTF-8

## 应用价值
合并后的数据集可用于：
- 抗菌肽活性比较研究
- 跨数据库数据挖掘
- 机器学习模型训练
- 药物开发优化

## 技术特点
- 兼容多种微符号表示
- 智能处理特殊数值格式
- 保留数据完整性信息
- 高效的批量处理能力
